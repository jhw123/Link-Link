(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(6),o=a(1),c=a(2),l=a(4),i=a(3),s=a(7),u=a(5),m=a(0),h=a.n(m),k=a(9),v=a.n(k),f=(a(17),a(18),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onKeyDown",value:function(e){" "===e.key||32===e.keyCode?this.props.SpaceOnClick():"ArrowRight"===e.key||39===e.keyCode?this.props.RightOnClick():"ArrowLeft"===e.key||37===e.keyCode?this.props.LeftOnClick():"ArrowDown"===e.key||40===e.keyCode?this.props.DownOnClick():console.log(e.key,e.keyCode),e.preventDefault()}},{key:"render",value:function(){return h.a.createElement("div",{className:"ControlPanel"},h.a.createElement("div",null,h.a.createElement("div",{className:"ControlPanel_Text"},"ROTATE"),h.a.createElement("button",{className:"ControlPanel_key LongKey",onClick:this.props.SpaceOnClick},"SPACEBAR")),h.a.createElement("div",null,h.a.createElement("div",{className:"ControlPanel_Text"},"LEFT"),h.a.createElement("button",{className:"ControlPanel_key SquareKey",onClick:this.props.LeftOnClick},"\u2b05")),h.a.createElement("div",null,h.a.createElement("div",{className:"ControlPanel_Text"},"DOWN"),h.a.createElement("button",{className:"ControlPanel_key SquareKey",onClick:this.props.DownOnClick},"\u2b07")),h.a.createElement("div",null,h.a.createElement("div",{className:"ControlPanel_Text"},"RIGHT"),h.a.createElement("button",{className:"ControlPanel_key SquareKey",onClick:this.props.RightOnClick},"\u27a1")))}}]),t}(h.a.Component)),d=(a(19),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"Instruction"},h.a.createElement("h1",null,"\uac8c\uc784 \ubc29\ubc95"),h.a.createElement("div",null,h.a.createElement("img",{className:"Instruction_Img",src:"control.png",alt:"Press 'Spacebar' to rotate a block, Press 'ArrowLeft' to move left, Press 'ArrowRight' to move right."}),h.a.createElement("div",null,"1. \ud68c\uc804, \uc88c\uc6b0 \uc774\ub3d9\uc744 \uc774\uc6a9\ud574 \ub5a8\uc5b4\uc9c0\ub294 \ube14\ub85d\uc744 \uc6c0\uc9c1\uc774\uc138\uc694.")),h.a.createElement("div",null,h.a.createElement("img",{className:"Instruction_Img",src:"chain.png",alt:"Link three equal-colored blocks to remove blocks."}),h.a.createElement("div",null,"2. 3\uac1c \uc774\uc0c1\uc758 \uac19\uc740 \uc0c9 \ube14\ub85d\uc744 \uc5f0\uacb0\ud558\uc5ec \ube14\ub85d \uc5c6\uc560\uc138\uc694. \ud55c\ubc88\uc5d0 \ub354 \ub9ce\uc740 \ube14\ub85d\uc744 \uc5c6\uc568\uc218\ub85d \ub192\uc740 \uc810\uc218\ub97c \uc5bb\uc2b5\ub2c8\ub2e4.")),h.a.createElement("div",null,h.a.createElement("img",{className:"Instruction_Img",src:"full.png",alt:"Obtain scores until your window is full with blocks."}),h.a.createElement("div",null,"3. \ube14\ub85d\uc774 \ud654\uba74\uc744 \ubaa8\ub450 \ucc44\uc6b0\uae30\uae4c\uc9c0 \ucd5c\ub300\ud55c \ub9ce\uc740 \uc810\uc218 \uc5bb\uc5b4\ubcf4\uc138\uc694!!")))}}]),t}(h.a.Component));a(20);function S(e){if(0===e)return"UP";if(1===e)return"RIGHT";if(2===e)return"DOWN";if(3===e)return"LEFT";throw new Error}function y(e){var t={background:e.color},a=e.pattern.map(function(e){return h.a.createElement("div",{className:"Next_Box_Link "+S(e),style:t,key:e})});return h.a.createElement("div",{className:"Next_Box"},h.a.createElement("div",{className:"Next_Box-Filled",style:t}),a)}function p(e){return"Init"===e.gameState?h.a.createElement("button",{className:"START_btn",onClick:e.StartOnClick},"\uc2dc\uc791"):"Running"===e.gameState?h.a.createElement("button",{className:"PAUSE_btn",onClick:e.PauseOnClick},"\uc77c\uc2dc\uc815\uc9c0"):"Pause"===e.gameState?h.a.createElement("button",{className:"RESUME_btn",onClick:e.ResumeOnClick},"\uacc4\uc18d\ud558\uae30"):"Over"===e.gameState?h.a.createElement("button",{className:"RETRY_btn",onClick:e.RetryOnClick},"\uc7ac\uc2dc\uc791"):h.a.createElement("div",null,"GAME STATE UNKNOWN")}var C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"Info_Board"},h.a.createElement("div",{className:"Info_Section"},h.a.createElement("div",{className:"Score_Title"},"\uc810\uc218:"),h.a.createElement("div",{className:"Score_Number"},this.props.score)),h.a.createElement("div",{className:"Info_Section"},h.a.createElement("div",{className:"Stage_Title"},"\ub2e8\uacc4:"),h.a.createElement("div",{className:"Stage_Number"},this.props.stage)),h.a.createElement("div",{className:"Info_Section"},h.a.createElement("div",{className:"Next_Title"},"\ub2e4\uc74c \ube14\ub85d:"),h.a.createElement(y,{color:this.props.color,pattern:this.props.pattern})),h.a.createElement("div",{className:"Info_Section"},h.a.createElement(p,{gameState:this.props.gameState,StartOnClick:this.props.StartOnClick,PauseOnClick:this.props.PauseOnClick,ResumeOnClick:this.props.ResumeOnClick,RetryOnClick:this.props.RetryOnClick})))}}]),t}(h.a.Component),b=6,g=8,E=3,O=["hsl(".concat(0,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(120,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(240,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(60,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(180,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(300,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(30,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(90,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(150,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(210,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(270,", ",100,"%, ").concat(60,"%)"),"hsl(".concat(330,", ",100,"%, ").concat(60,"%)")],N=0,x=1,P=2,w=3;function R(e){if(e===N)return"UP";if(e===x)return"RIGHT";if(e===P)return"DOWN";if(e===w)return"LEFT";throw new Error}function _(e){if(e.blockState){var t=e.blockState.color,a=e.blockState.pattern,n={background:t},r=a.map(function(e){return h.a.createElement("div",{className:"Square_Box_Link "+R(e),style:n,key:e})});return h.a.createElement("div",{className:"Square_Box"},h.a.createElement("div",{className:"Square_Box-Filled",style:n}),r)}return h.a.createElement("div",{className:"Square_Box"})}function I(e){var t=e.columnState.map(function(e,t){return h.a.createElement(_,{blockState:e,key:t})});return h.a.createElement("div",{className:"Row"},t)}function B(e){var t={};return"Over"!==e.gameState&&(t={display:"none"}),h.a.createElement("div",{className:"Game_Over",style:t},h.a.createElement("div",{className:"Game_Over_Text"},"GAME OVER!"))}var j=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(i.a)(t).call(this,e));for(var n=[O[0],O[1]],r=[[P],[x],[P,N],[x,P],[w,x,P],[w,x,P,N]],c=[],u=0;u<g;u++)c.push(Array(b).fill(!1));return a.state={boxState:c,boxStateLock:!1,currentBox:[0,0],colorPool:n.sort(function(){return.5-Math.random()}),colorCount:n.length,blockPool:r.sort(function(){return.5-Math.random()}),blockCount:r.length,score:0,stage:1,targetScore:50,targetScoreIncrease:50,gameState:"Init"},a.HandleKeyDown=a.HandleKeyDown.bind(Object(s.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"rotateBlock",value:function(e,t,a){if("Running"!==this.state.gameState)return{};var n=this.state.boxState,r=T(n),o=n[e][t].pattern.map(function(e){return(e+(a?1:-1))%4});return r[e][t].pattern=o,{boxState:r}}},{key:"moveCurrentBlock",value:function(e,t,a){var n=this;if(this.state.boxStateLock||"Running"!==this.state.gameState)return{};var o=this.state.boxState,c=T(o),l=e+((a+1)%2?a-1:0),i=t+(a%2?-1*(a-2):0);if(l=Math.max(0,Math.min(g-1,l)),i=Math.max(0,Math.min(b-1,i)),!o[l][i])return c[e][t]=!1,c[l][i]=this.state.boxState[e][t],{boxState:c,currentBox:[l,i]};if(a!==P)return{};this.setState({boxStateLock:!0});var s=function(e,t,a){if(a[e][t]){for(var n=[],o=[[e,t]],c=0;o.length>0&&c<20;){var l=o.shift(),i=Object(r.a)(l,2),s=i[0],u=i[1],m=a[s][u];if(n.push([s,u]),s>0){var h=a[s-1][u];M(m,h,N)&&(H(n,[s-1,u])||o.push([s-1,u]))}if(s<g-1){var k=a[s+1][u];M(m,k,P)&&(H(n,[s+1,u])||o.push([s+1,u]))}if(u>0){var v=a[s][u-1];M(m,v,w)&&(H(n,[s,u-1])||o.push([s,u-1]))}if(u<b-1){var f=a[s][u+1];M(m,f,x)&&(H(n,[s,u+1])||o.push([s,u+1]))}c++}return n.length>=E?(console.log("chained!",c,n),n):[]}throw new Error("Wrong X and Y to check link.")}(e,t,this.state.boxState);this.setState(this.raiseScoreAndRaiseStage(Math.pow(s.length,2))),this.setState(this.deleteBlocks(s),function(){var e=n.getNextDropPosition();-1===e&&n.gameOver();var t=n.getNextBlock();n.setState(n.createNewBlock(0,e,t.pattern,t.color)),n.setState({boxStateLock:!1})})}},{key:"getNextDropPosition",value:function(){var e=[];return this.state.boxState[0].map(function(t,a){return t||e.push(a),a}),0===e.length?-1:e[Math.floor(Math.random()*e.length)]}},{key:"getNextBlock",value:function(){var e=this.state.blockCount,t=this.state.colorCount,a=this.state.colorPool[t-1],n=this.state.blockPool[e-1];return 1===e?this.setState({blockPool:this.state.blockPool.sort(function(){return.5-Math.random()}),blockCount:this.state.blockPool.length}):this.setState({blockCount:e-1}),1===t?this.setState({colorPool:this.state.colorPool.sort(function(){return.5-Math.random()}),colorCount:this.state.colorPool.length}):this.setState({colorCount:t-1}),{pattern:n,color:a}}},{key:"createNewBlock",value:function(e,t,a,n){var r=this.state.boxState,o=T(r);return r[e][t]?{}:(o[e][t]={color:n,pattern:a},{boxState:o,currentBox:[e,t]})}},{key:"deleteBlocks",value:function(e){var t=T(this.state.boxState),a=!0,n=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var i=c.value,s=Object(r.a)(i,2),u=s[0],m=s[1];t[u][m]=!1}}catch(h){n=!0,o=h}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}return{boxState:t}}},{key:"raiseScoreAndRaiseStage",value:function(e){var t=this.state.score+e;return this.state.targetScore<=t?(console.log("level up!"),{colorPool:[].concat(Object(n.a)(this.state.colorPool),[O[this.state.stage+1]]),colorCount:this.state.colorPool.length+1,stage:this.state.stage+1,score:t,targetScore:this.state.targetScore+this.state.targetScoreIncrease,targetScoreIncrease:this.state.targetScoreIncrease+50}):{score:t}}},{key:"startGame",value:function(){for(var e=this,t=Math.floor(Math.random()*b-1+1),a=[O[0],O[1]],n=[[P],[x],[P,N],[x,P],[w,x,P],[w,x,P,N]],r=[],o=0;o<g;o++)r.push(Array(b).fill(!1));r[0][t]={color:this.state.colorPool[this.state.colorCount-1],pattern:[P,x]},this.setState({boxState:r,boxStateLock:!1,currentBox:[0,t],colorPool:a.sort(function(){return.5-Math.random()}),colorCount:a.length,blockPool:n.sort(function(){return.5-Math.random()}),blockCount:n.length,score:0,stage:1,targetScore:50,targetScoreIncrease:50,gameState:"Running"},function(){e.interval=setInterval(function(){return e.tick()},1e3)})}},{key:"pauseGame",value:function(){var e=this;this.setState({gameState:"Pause"},function(){clearInterval(e.interval)})}},{key:"resumeGame",value:function(){var e=this;this.setState({gameState:"Running"},function(){e.interval=setInterval(function(){return e.tick()},1e3)})}},{key:"gameOver",value:function(){var e=this;this.setState({gameState:"Over"},function(){console.log("GAME OVER!"),clearInterval(e.interval)})}},{key:"tick",value:function(){console.log("tick");var e=Object(r.a)(this.state.currentBox,2),t=e[0],a=e[1];this.setState(this.moveCurrentBlock(t,a,P))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"RotateHandleClick",value:function(){var e=Object(r.a)(this.state.currentBox,2),t=e[0],a=e[1];this.setState(this.rotateBlock(t,a,!0))}},{key:"MoveHandleClick",value:function(e){var t=Object(r.a)(this.state.currentBox,2),a=t[0],n=t[1];this.setState(this.moveCurrentBlock(a,n,e))}},{key:"StartHandleClick",value:function(){clearInterval(this.interval),this.startGame()}},{key:"PauseHandleClick",value:function(){this.pauseGame()}},{key:"ResumeHandleClick",value:function(){this.resumeGame()}},{key:"RetryHandleClick",value:function(){this.startGame()}},{key:"HandleKeyDown",value:function(e){" "===e.key||32===e.keyCode?this.RotateHandleClick():"ArrowRight"===e.key||39===e.keyCode?this.MoveHandleClick(x):"ArrowLeft"===e.key||37===e.keyCode?this.MoveHandleClick(w):"ArrowDown"===e.key||40===e.keyCode?this.MoveHandleClick(P):console.log(e.key,e.keyCode),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.state.boxState.map(function(e,t){return h.a.createElement(I,{columnState:e,key:t})});return h.a.createElement("div",{onKeyDown:function(t){return e.HandleKeyDown(t)}},h.a.createElement("div",{className:"Header"},h.a.createElement("div",{className:"Logo"},h.a.createElement("div",{className:"Text"},"LINK-LINK"),h.a.createElement("div",{className:"RedSquare"}),h.a.createElement("div",{className:"BlueSquare"}))),h.a.createElement("div",null,h.a.createElement(d,null),h.a.createElement("div",{className:"Game_Board"},t,h.a.createElement(B,{gameState:this.state.gameState})),h.a.createElement(C,{score:this.state.score,stage:this.state.stage,color:this.state.colorPool[this.state.colorCount-1],pattern:this.state.blockPool[this.state.blockCount-1],gameState:this.state.gameState,StartOnClick:function(){return e.StartHandleClick()},PauseOnClick:function(){return e.PauseHandleClick()},ResumeOnClick:function(){return e.ResumeHandleClick()},RetryOnClick:function(){return e.RetryHandleClick()}}),h.a.createElement(f,{SpaceOnClick:function(){return e.RotateHandleClick()},DownOnClick:function(){return e.MoveHandleClick(P)},LeftOnClick:function(){return e.MoveHandleClick(w)},RightOnClick:function(){return e.MoveHandleClick(x)}})))}}]),t}(h.a.Component);function M(e,t,a){var n=(a+2)%4;return!!(e.pattern.includes(a)&&t&&t.pattern.includes(n)&&e.color===t.color)}function H(e,t){var a=!0,n=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=o.value;if(l[0]===t[0]&&l[1]===t[1])return!0}}catch(i){n=!0,r=i}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return!1}function T(e){var t=[],a=!0,n=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=o.value;t.push(l.slice())}}catch(i){n=!0,r=i}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t}v.a.render(h.a.createElement(j,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.673257b9.chunk.js.map